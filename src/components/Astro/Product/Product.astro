---
import { products } from "./products.json";
---

<div class="container">
    <div class="grid grid-cols-3 gap-6 py-10">
        {
            products.map((product) => {

                const { price, discountPercentage, thumbnail, title, description } = product;
                const discount = price * discountPercentage / 100;
                const finalPrice = (price - discount).toFixed(2); // round to 2 decimal places

                return (
                    <div class="product">        
                        <p class="product-price"> SALE -{discountPercentage}%</p> 
                        <img src={thumbnail} alt={title} />
                        <h3 class="product-name">{title}</h3>
                        <p class="product-description">{description}</p>
                        <div class="prices">
                            <p class="product-price">$ base price: <del>{price}</del></p>
                            <p class="product-price">$ final price: {finalPrice}</p>
                        </div>
                    </div>
                )
                                
            })
        }
    </div>
</div>

